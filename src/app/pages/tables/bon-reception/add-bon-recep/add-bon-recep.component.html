<!-- <nb-layout> -->
<div class="row"   *ngIf="load">
    <!-- <div class="col-lg-8">
      <nb-card>
        <nb-card-header>Ajout de Bon de Reception <button (click)="backClick()" status="primary" nbButton class="retour" > Retour</button></nb-card-header> 
        <nb-card-body>
            <form #brForm="ngForm"    novalidate>                
                    <label for="numBonRecep"><span >*</span>Numéro bon de réception:</label>
                    <input type="text" name="numBonRecep" nbInput fullWidth placeholder="Numero Bon Reception" [(ngModel)]="br.numBonRecep" required>
                    <label for="datebr"><span >*</span>Date Br:</label>
                    <input type="date" name="datebr" nbInput fullWidth placeholder="choisir une date" [(ngModel)]="br.dateBr" required>

                    <label for="nomLivreur"><span >*</span>Nom de Livreur:</label>
                    <input type="text" name="nomLivreur" nbInput fullWidth placeholder="Entrer nom de Livreur:" [(ngModel)]="br.nomLivreur" required>  
                        <label for="matLivreur"><span >*</span>CID Livreur:</label>
                        <input type="text" name="matLivreur" nbInput fullWidth placeholder="CID de Livreur:" [(ngModel)]="br.matLivreur" required>
                        <label for="fournisseur"><span >*</span>Fournisseur:</label>
                        <br/>
                        <nb-select placeholder="Selectionnez un Fournisseur" name="fourns"  [(ngModel)]="frId">
                            <nb-option fullWidth *ngFor="let fr of fourns"   [value]="fr?.id">{{fr.name}}</nb-option>
                        </nb-select>
                        
                        <br/>
                        <label for="note"><span >*</span>Note:</label>
                    <input type="text" name="note" nbInput fullWidth placeholder="entrez notes supplementaires:" [(ngModel)]="br.note">  
                 </form>    
                 <div class="buttons-row">
                    <button #buttonstate [disabled]="!brForm.valid" status="primary" nbButton class="edit" (click)="onSubmit()" >  Valider</button>
                   
                </div>    
       </nb-card-body>
     
      </nb-card>
    </div> -->


    <nb-card class="col-md-12 col-lg-12 col-xxxl-12">
        <nb-card-body>
          <nb-stepper orientation="horizontal">
                <nb-step [label]="labelOne">
                    <ng-template #labelOne>Etape1</ng-template>
                    <h3>Etape1 Ajout bon Reception</h3>
                    <div class="col-lg-12">
                        <nb-card>
                          <!-- <nb-card-header>Ajout de Bon de Reception <button (click)="backClick()" status="primary" nbButton class="retour" > Retour</button></nb-card-header>  -->
                          <nb-card-body>
                              <form #brForm="ngForm"    novalidate>                
                                      <label for="numBonRecep"><span >*</span>Numéro bon de réception:</label>
                                      <input type="text" name="numBonRecep" nbInput fullWidth placeholder="Numero Bon Reception" [(ngModel)]="br.numBonRecep" required>
                                      <label for="datebr"><span >*</span>Date Br:</label>
                                      <input type="date" name="datebr" nbInput fullWidth placeholder="choisir une date" [(ngModel)]="br.dateBr" required>
                  
                                      <label for="nomLivreur"><span >*</span>Nom de Livreur:</label>
                                      <input type="text" name="nomLivreur" nbInput fullWidth placeholder="Entrer nom de Livreur:" [(ngModel)]="br.nomLivreur" required>  
                                          <label for="matLivreur"><span >*</span>CID Livreur:</label>
                                          <input type="text" name="matLivreur" nbInput fullWidth placeholder="CID de Livreur:" [(ngModel)]="br.matLivreur" required>
                                          <label for="fournisseur"><span >*</span>Fournisseur:</label>
                                          <br/>
                                          <!-- <select  class="form-group" placeholder="Selectionnez un Fournisseur" name="fourns"  [(ngModel)]="frId" *ngIf="fourns.length !== 0">
                                              <option  *ngFor="let fr of fourns "   [value]="fr?.id">{{fr.name}}<option>
                                          </select> -->
                                          <!-- <div *ngIf="fourns && fourns.length>0">{{fourns}}</div> -->
                                          
                                          <nb-select placeholder="Select Showcase" [(selected)]="Selectedfourn" >
                                            <nb-option *ngFor="let item of fourns" value={{item?.id}}>{{item.name}}</nb-option>
                                        </nb-select>

                                          <!-- <nb-select  *ngIf="load" class="form-group" placeholder="Selectionnez un Fournisseur" name="fourns1" id="fourns1">
                                            <nb-option  *ngFor="let fr of fourns "   [value]="fr?.id">{{fr.name}}</nb-option>
                                        </nb-select> -->
                                        <!-- <nb-card size="small">
                                            <nb-card-body>
                                              <nb-select placeholder="Select Showcase" [(selected)]="selectedItem">
                                                <nb-option value="">Option empty</nb-option>
                                                <nb-option value="0">Option 0</nb-option>
                                                <nb-option value="1">Option 1</nb-option>
                                                <nb-option value="2">Option 2</nb-option>
                                                <nb-option value="3">Option 3</nb-option>
                                                <nb-option value="4">Option 4</nb-option>
                                              </nb-select>
                                            </nb-card-body> 
                                          </nb-card>-->
                                          <br/>
                                          <label for="note"><span >*</span>Note:</label>
                                      <input type="text" name="note" nbInput fullWidth placeholder="entrez notes supplementaires:" [(ngModel)]="br.note">  
                                   </form>    
                                   <!-- <div class="buttons-row">
                                      <button #buttonstate [disabled]="!brForm.valid" status="primary" nbButton class="edit" (click)="onSubmit()" >  Valider</button>
                                    </div>     -->
                         </nb-card-body>
                       
                        </nb-card>
                      </div>
                    <button nbButton disabled nbStepperNext (click)="backClick()" >annuler</button>
                    <button nbButton nbStepperNext  #buttonstate [disabled]="!brForm.valid" status="primary" class="edit" (click)="onSubmit()" >valider</button>
                </nb-step>
                    <nb-step [label]="labelTwo">
                        <ng-template #labelTwo>Etape2</ng-template>
                        <h3>Etape2 Ajout bon Reception</h3>
                        <!-- <nb-step [label]="labelOne">
                            <ng-template #labelOne>Etape1</ng-template> -->
                            <div class="col-lg-12">
                                <nb-card>
                                  <!-- <nb-card-header>Ajout de Bon de Reception <button (click)="backClick()" status="primary" nbButton class="retour" > Retour</button></nb-card-header>  -->
                                  <nb-card-body>
                                      <form #brForm="ngForm"    novalidate>  
                                          <table>
                                              <thead>
                                                  <tr>
                                                  <th>Matiere</th>
                                                  <th>Quantite</th>
                                                  <th>Total</th>
                                                </tr>
                                              </thead>
                                              <tbody>
                                                    <tr>
                                                        <td>
                                                            <select placeholder="Selectionnez Matiére" name="mats"  [(ngModel)]="matId">
                                                                <option fullWidth *ngFor="let mat of lstmat"   [value]="mat?.id">{{mat.name}}</option>
                                                            </select>
                                                        </td>
                                                        <td>
                                                            <input type="text" name="ligneBr" nbInput fullWidth placeholder="quantite" [(ngModel)]="lbr.quantity" required>
                                                        </td>
                                                        <!-- <td>
                                                            <input type="text" name="numBonRecep" nbInput fullWidth placeholder="Numero Bon Reception" [(ngModel)]="lbr." required>
                                                        </td> -->
                                                        <td>
                                                            <button nbButton nbStepperNext (click)="OnAjoutClick()" >Ajouter</button>
                                                        </td>
                                                    </tr>                                                    
                                              </tbody>
                                          </table>
                                          <div> 
                                          <table>
                                              <thead>
                                                  <div class="etetBr">
                                                      <tr>
                                                            <td class="leftside">Date :{{br.dateBr}}</td>
                                                            <td class="rightside"> N° Br: {{br.numBonRecep}}</td>
                                                            <td class="middle"> Fournisseur : {{br?.fournisseur?.name}}</td>
                                                      </tr>
                                                   </div>
                                                  <tr>
                                                      <td>Matiére Première</td>
                                                      <td>Quantité</td>
                                                      <td>Total ht</td>
                                                  </tr>
                                              </thead>
                                              <tbody >
                                                
                                                  <tr *ngFor="let lg of lstBr">
                                                    <td> <input type="text" name="matname" nbInput fullWidth  value="{{lg.matierepremier.name}}"> </td>
                                                    <td><input type="text" name="qantity" nbInput fullWidth  value="{{lg.quantity}}"></td>
                                                    <td><input type="text" name="total" nbInput fullWidth  value="{{lg.total}}"></td>
                                                  </tr>                
                                              </tbody>
                                          </table>  
                                          </div>
                                        </form> 
                                    </nb-card-body>
                              </nb-card>
                            </div>

                        <!-- <button nbButton nbStepperPrevious>prev</button> -->
                        <button nbButton nbStepperNext (click)="backClick()">valider</button>
                    </nb-step>
          </nb-stepper>
        </nb-card-body>
    </nb-card>
 
</div>
<!-- </nb-layout> -->